<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>JavaScript | 铸鼎-BuildDing</title><meta name="author" content="铸鼎"><meta name="copyright" content="铸鼎"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="初识 JavaScript是一种由ECMAScript标准规范定义的编程语言。它的实现可以是开源的。 在浏览器中，JavaScript 是单线程执行的。这意味着在任何给定时间点，JavaScript 代码只能由一个线程执行。这个单线程通常称为主线程或 UI 线程。 NodeJS中JavaScript 也可以实现多线程编程，例如Worker Threads API 允许开发者在 Node.js 中创">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript">
<meta property="og:url" content="https://ding-f.github.io/2023/04/27/javascript">
<meta property="og:site_name" content="铸鼎-BuildDing">
<meta property="og:description" content="初识 JavaScript是一种由ECMAScript标准规范定义的编程语言。它的实现可以是开源的。 在浏览器中，JavaScript 是单线程执行的。这意味着在任何给定时间点，JavaScript 代码只能由一个线程执行。这个单线程通常称为主线程或 UI 线程。 NodeJS中JavaScript 也可以实现多线程编程，例如Worker Threads API 允许开发者在 Node.js 中创">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ding-f.github.io/images/2023-04-27-JavaScript/R-C.3833d4b070ca7c198ebc5a2ba765a32erik=z7tex%252bOSycssNQ&riu=http%253a%252f%252fwww.techsors.com%252fwp-content%252fuploads%252f2016%252f02%252fJavascript.jpeg">
<meta property="article:published_time" content="2023-04-27T12:07:45.000Z">
<meta property="article:modified_time" content="2024-11-25T17:23:15.110Z">
<meta property="article:author" content="铸鼎">
<meta property="article:tag" content="基础">
<meta property="article:tag" content="前端">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ding-f.github.io/images/2023-04-27-JavaScript/R-C.3833d4b070ca7c198ebc5a2ba765a32erik=z7tex%252bOSycssNQ&riu=http%253a%252f%252fwww.techsors.com%252fwp-content%252fuploads%252f2016%252f02%252fJavascript.jpeg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://ding-f.github.io/2023/04/27/javascript"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaScript',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-11-26 01:23:15'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/logo.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><hr class="custom-hr"/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/2023-04-27-JavaScript/R-C.3833d4b070ca7c198ebc5a2ba765a32erik=z7tex%252bOSycssNQ&amp;riu=http%253a%252f%252fwww.techsors.com%252fwp-content%252fuploads%252f2016%252f02%252fJavascript.jpeg')"><nav id="nav"><span id="blog-info"><a href="/" title="铸鼎-BuildDing"><img class="site-icon" src="/images/logo.png"/><span class="site-name">铸鼎-BuildDing</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaScript</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-04-27T12:07:45.000Z" title="发表于 2023-04-27 20:07:45">2023-04-27</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-11-25T17:23:15.110Z" title="更新于 2024-11-26 01:23:15">2024-11-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AF%AD%E8%A8%80/">语言</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>18分钟</span></span><span class="post-meta-separator">|</span><span class="leancloud_visitors" id="/2023/04/27/javascript" data-flag-title="JavaScript"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span class="leancloud-visitors-count"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2023/04/27/javascript#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2023/04/27/javascript" itemprop="commentCount"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="初识"><a href="#初识" class="headerlink" title="初识"></a>初识</h2><blockquote>
<p>JavaScript是一种由ECMAScript标准规范定义的编程语言。它的实现可以是开源的。</p>
<p>在浏览器中，JavaScript 是单线程执行的。这意味着在任何给定时间点，JavaScript 代码只能由一个线程执行。这个单线程通常称为主线程或 UI 线程。</p>
<p>NodeJS中JavaScript 也可以实现多线程编程，例如Worker Threads API 允许开发者在 Node.js 中创建独立的线程，这些线程可以执行 CPU 密集型任务、并行处理数据或执行其他需要并发执行的操作。这些线程是由操作系统调度和管理的。</p>
<p>但是，需要注意的是，Node.js 是单线程的事件驱动模型，主线程上的事件循环仍然是单线程的，因此在任何给定时刻只有一个事件在主线程上执行。而 Worker 线程的执行是在独立的 JavaScript 执行环境中进行的，它们可以并行执行代码,它们之间通过线程间的消息传递机制进行通信，但不会影响主线程的事件循环。</p>
<p>启动每个 Worker 线程都会消耗一定的系统资源，包括内存和 CPU 资源。每个 Worker 线程都有自己的 JavaScript 执行环境和相关的资源，因此在启动大量的 Worker 线程时需要考虑系统资源的限制。</p>
</blockquote>
<h3 id="引擎"><a href="#引擎" class="headerlink" title="引擎"></a>引擎</h3><blockquote>
<p>JavaScript引擎(或称为JavaScript解释器),遵循ECMAScript规范，并将其转换为可在浏览器或其他环境中执行的机器码或字节码。</p>
<p>V8和SpiderMonkey引擎(开源)在执行JavaScript代码时，首先会对代码进行解析和编译，然后生成优化的中间表示（Intermediate Representation，IR），作用就是为了优化过程涉及诸如内联函数、去除冗余代码、变量的寄存器分配等技术，垃圾回收优化，最后将IR转换为本地机器代码，旨在提高JavaScript代码的执行效率。</p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://v8.dev/">V8引擎</a></p>
</blockquote>
<p><strong>引擎实现</strong></p>
<p>通常通常所说的浏览器引擎就是指用于解释和执行JavaScript代码的软件组件。</p>
<ul>
<li>JavaScript的主要开源实现之一是Mozilla基金会的SpiderMonkey引擎，它是Mozilla Firefox浏览器的JavaScript引擎</li>
<li>V8引擎是由Google开发和维护的，用于Chrome浏览器和Node.js等项目</li>
</ul>
<h3 id="ECMAScript"><a href="#ECMAScript" class="headerlink" title="ECMAScript"></a>ECMAScript</h3><blockquote>
<p>ECMAScript（简称ES）是一种脚本语言标准，用于定义JavaScript语言的语法和语义。它由Ecma国际（前身为欧洲计算机制造商协会）制定，并且定期进行更新和修订。</p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://tc39.es/ecma262/">ECMAScript® 2025 Language Specification</a></p>
</blockquote>
<h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><h4 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h4><blockquote>
<p>当将一个基本数据类型的变量赋值给另一个变量时，会直接将原始数据的值复制给新变量，而新变量与原始变量是完全独立的，修改其中一个变量的值不会影响另一个变量。</p>
</blockquote>
<ul>
<li>包括数字（Number）</li>
<li>字符串（String）</li>
<li>布尔值（Boolean）</li>
<li>null</li>
<li>undefined</li>
<li>Symbol</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy codelet a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">let</span> b = a; <span class="comment">// b 获得了 a 的值，而不是 a 的引用</span></span><br><span class="line">b = <span class="number">20</span>; <span class="comment">// 修改 b 的值，a 的值不受影响</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 输出 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 输出 20</span></span><br></pre></td></tr></table></figure>

<h4 id="引用数据类型"><a href="#引用数据类型" class="headerlink" title="引用数据类型"></a>引用数据类型</h4><blockquote>
<p>当将一个引用类型的变量赋值给另一个变量时，只是复制了原始数据的引用地址，而不是复制实际数据。因此，新变量与原始变量共享同一个对象（或数组、函数等），修改其中一个变量的属性或元素，会影响到另一个变量。</p>
</blockquote>
<ul>
<li>对象（Object）</li>
<li>数组（Array）</li>
<li>函数（Function）</li>
<li>正则（RegExp）</li>
<li>日期（Date）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = arr1; <span class="comment">// arr2 指向了 arr1 的引用地址，两者指向同一个数组</span></span><br><span class="line">arr2.<span class="title function_">push</span>(<span class="number">4</span>); <span class="comment">// 修改 arr2，同时也会影响 arr1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1); <span class="comment">// 输出 [1, 2, 3, 4]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2); <span class="comment">// 输出 [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>



<h3 id="var、let、const"><a href="#var、let、const" class="headerlink" title="var、let、const"></a>var、let、const</h3><blockquote>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/forcheng/p/13033976.html">深入理解JS：var、let、const的异同</a></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/js/js-let-const.html">菜鸟教程：JavaScript let 和 const</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/const">MDN web docs：const</a></p>
</blockquote>
<table>
<thead>
<tr>
<th>关键字</th>
<th>作用域</th>
<th>同一作用域重复声明</th>
<th>绑定全局对象</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>var</strong></td>
<td>如果：函数内，则只作用于函数内，跟随函数生命周期<br />如果：函数外，则脚本内全局，跟随脚本生命周期<br /></td>
<td>允许，将覆盖之前的定义。</td>
<td>绑定</td>
<td></td>
</tr>
<tr>
<td><strong>let</strong></td>
<td>所处的代码块<code>&#123;&#125;</code>内有效，外代码块与被包含代码块内外不互相影响，内的let只有效内，外let只有效外。</td>
<td>不允许</td>
<td>不绑定<br />（即：console.log(this.[let变量]) &#x2F;&#x2F; undefined）</td>
<td></td>
</tr>
<tr>
<td><strong>const</strong>（声明只读，声明必须初始化）</td>
<td>与let相同</td>
<td>不允许，不可被改写覆盖</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>需要注意的是，<code>const</code> 和 <code>let</code> 是在 ES6 (ECMAScript 2015) 中引入的，而 <code>var</code> 是旧版本 JavaScript 中使用的声明变量的方式。在现代的 JavaScript 开发中，推荐使用 <code>const</code> 和 <code>let</code> 来声明变量，根据具体的需求选择合适的关键字。<code>const</code> 适用于声明不需要重新赋值的常量或引用类型，而 <code>let</code> 适用于需要重新赋值的变量，同时提供了更好的作用域控制。<code>var</code> 在大多数情况下已经不推荐使用，但在特定情况下仍然可以使用，例如需要兼容旧版本 JavaScript 或在全局作用域中声明变量。</p>
<p><strong>var 与 let作用域：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">varTest</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>; <span class="comment">// 函数块中，同一个变量</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 2</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">letTest</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">2</span>; <span class="comment">// 代码块中，新的变量</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 2</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">varTest</span>();</span><br><span class="line"><span class="title function_">letTest</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>var与let同一作用域：</strong></p>
<ul>
<li><p>var示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">4</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>()</span><br><span class="line">  </span><br></pre></td></tr></table></figure>
</li>
<li><p>let示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">false</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">2</span>; <span class="comment">// SyntaxError: Identifier &#x27;a&#x27; has already been declared</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>let 与 const ：</strong></p>
<ul>
<li><p>相同</p>
<ul>
<li>二者都是块级作用域</li>
<li>都不能和它所在作用域内的其他变量或函数拥有相同的名称</li>
</ul>
</li>
<li><p>异同</p>
<ul>
<li><p><code>const</code>声明的常量必须初始化，而<code>let</code>声明的变量不用</p>
</li>
<li><p>const 定义常量的值不能通过再赋值修改，也不能再次声明（数组、对象内部数据可修改）。而 let 定义的变量值可以修改。</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a;</span><br><span class="line"><span class="keyword">const</span> b = <span class="string">&quot;constant&quot;</span></span><br><span class="line"></span><br><span class="line">a = <span class="string">&quot;variable&quot;</span></span><br><span class="line">b = <span class="string">&#x27;change&#x27;</span> <span class="comment">// TypeError: Assignment to constant variable</span></span><br></pre></td></tr></table></figure>





<h2 id="开发常用"><a href="#开发常用" class="headerlink" title="开发常用"></a>开发常用</h2><h3 id="JS数组合并"><a href="#JS数组合并" class="headerlink" title="JS数组合并"></a>JS数组合并</h3><blockquote>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/github_35780607/article/details/110528481">CSDN-IMJCW：JS数组合并(5种)</a></p>
</blockquote>
<ul>
<li><p><code>ES6</code> 的语法，简单实用</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...可去除对象大括号、数组中括号</span></span><br><span class="line">arr = [...arr, ...arr2]</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br><span class="line"><span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>push</code> 结合 <code>...[]</code></p>
<p><code>arr.push.apply(arr, arr2)</code> 的作用是将 <code>arr2</code> 数组中的元素依次添加到 <code>arr</code> 数组中。这里使用了 <code>push</code> 方法来向 <code>arr</code> 数组中添加元素，<code>apply</code> 方法将 <code>arr2</code> 数组中的元素作为参数传递给 <code>push</code> 方法，并使用 <code>arr</code> 数组作为 <code>this</code> 值绑定到 <code>push</code> 方法中。这样就可以将 <code>arr2</code> 数组中的元素添加到 <code>arr</code> 数组中了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">arr.<span class="property">push</span>.<span class="title function_">apply</span>(arr, arr2)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br><span class="line"><span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">push</span>(...arr2)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br><span class="line"><span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="在-Javascript-的字符串作用"><a href="#在-Javascript-的字符串作用" class="headerlink" title="${}在 Javascript 的字符串作用"></a>${}在 Javascript 的字符串作用</h3><blockquote>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://www.likecs.com/ask-420230.html">爱码网：${}（美元符号和花括号）在 Javascript 中的字符串中是什么意思？</a></p>
</blockquote>
<h3 id="字符串插值"><a href="#字符串插值" class="headerlink" title="字符串插值"></a>字符串插值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="string">&#x27;bar&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Let&#x27;s meet at the <span class="subst">$&#123;foo&#125;</span>`</span>);</span><br><span class="line"><span class="comment">// Let&#x27;s meet at the bar</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> one = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> two = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> result = <span class="string">`One add two is <span class="subst">$&#123;one + two&#125;</span>`</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// output: One add two is 3</span></span><br></pre></td></tr></table></figure>

<p><strong>打印多行</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`foo</span></span><br><span class="line"><span class="string">bar`</span>);</span><br><span class="line"><span class="comment">// foo</span></span><br><span class="line"><span class="comment">// bar</span></span><br></pre></td></tr></table></figure>

<p><strong>模板文字执行隐式类型转换</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fruits = [<span class="string">&quot;mango&quot;</span>,<span class="string">&quot;orange&quot;</span>,<span class="string">&quot;pineapple&quot;</span>,<span class="string">&quot;papaya&quot;</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`My favourite fruits are <span class="subst">$&#123;fruits&#125;</span>`</span>);</span><br><span class="line"><span class="comment">// My favourite fruits are mango,orange,pineapple,papaya</span></span><br></pre></td></tr></table></figure>

<h3 id="find-修改对象属性"><a href="#find-修改对象属性" class="headerlink" title="find()修改对象属性"></a>find()修改对象属性</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> u = [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;andy&#x27;</span>,</span><br><span class="line">                <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">            &#125;</span><br><span class="line">            , &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;bob&#x27;</span>,</span><br><span class="line">                <span class="attr">age</span>: <span class="number">19</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">var</span> p = u.<span class="title function_">find</span>(<span class="keyword">function</span> (<span class="params">curr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> curr.<span class="property">name</span> === <span class="string">&#x27;bob&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    p.<span class="property">age</span> = <span class="number">20</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//也可以这样写</span></span><br><span class="line">u.<span class="title function_">find</span>( <span class="function"><span class="params">curr</span> =&gt;</span> curr.<span class="property">name</span> === <span class="string">&#x27;bob&#x27;</span> )?.<span class="property">age</span> = <span class="number">20</span></span><br></pre></td></tr></table></figure>

<p>find找到了数组中符合条件的对象后返回给p,直接更改p即可准确更改元素中的值。</p>
<h3 id="some"><a href="#some" class="headerlink" title="some()"></a>some()</h3><p>some方法同样用于检测是否有满足条件的元素，如果有，则不继续检索后面的元素，直接返回true，如果都不符合，则返回一个false。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">100</span>,<span class="number">20</span>,<span class="number">50</span>,<span class="number">58</span>,<span class="number">6</span>,<span class="number">69</span>,<span class="number">36</span>,<span class="number">45</span>,<span class="number">78</span>,<span class="number">66</span>,<span class="number">45</span>]</span><br><span class="line"><span class="comment">// some</span></span><br><span class="line"><span class="keyword">let</span> result = arr.<span class="title function_">some</span>(<span class="function"><span class="params">ele</span> =&gt;</span> ele === <span class="number">45</span>) <span class="comment">//true</span></span><br><span class="line"><span class="keyword">if</span> (result) &#123;</span><br><span class="line"><span class="comment">//do something...</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br></pre></td></tr></table></figure>



<h3 id="数组添加元素"><a href="#数组添加元素" class="headerlink" title="数组添加元素"></a>数组添加元素</h3><p><strong>splice()</strong></p>
<p>它用于在数组中添加或删除元素，并返回被删除的元素。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>); <span class="comment">// 从下标为 2 的位置开始删除 2 个元素，然后插入 &#x27;a&#x27;, &#x27;b&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">// [1, 2, &#x27;a&#x27;, &#x27;b&#x27;, 5]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array.splice(start[, deleteCount[, item1[, item2[, ...]]]])</span><br></pre></td></tr></table></figure>

<ul>
<li><code>start</code>：指定添加或删除元素的起始位置，可以为负数，表示从数组末尾开始算起的位置。</li>
<li><code>deleteCount</code>：可选参数，表示要删除的元素个数，如果省略该参数或为 0，则不删除任何元素。</li>
<li><code>item1, item2, ...</code>：可选参数，表示要添加到数组中的元素。</li>
</ul>
<h3 id="过滤数组空元素"><a href="#过滤数组空元素" class="headerlink" title="过滤数组空元素"></a>过滤数组空元素</h3><blockquote>
<p>过滤去除数组的空元素，返回false会删除，即null或者undefine。</p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37796017/article/details/90229667">CSDN：js去除数组中的null空值</a></p>
</blockquote>
<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="literal">null</span>,<span class="literal">undefined</span>,<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27; &#x27;</span>,<span class="string">&#x27;9&#x27;</span>];</span><br><span class="line"><span class="keyword">var</span> r = arr.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">s</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> s &amp;&amp; s.<span class="title function_">trim</span>(); <span class="comment">// 注：IE9(不包含IE9)以下的版本没有trim()方法</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(r);</span><br><span class="line"><span class="comment">// 将会返回非空元素：[‘2’,‘3’,‘7’,‘9’]</span></span><br></pre></td></tr></table></figure>



<h3 id="柯里化"><a href="#柯里化" class="headerlink" title="柯里化"></a>柯里化</h3><blockquote>
<p>在柯里化中，原始函数接受多个参数，但通过柯里化的转换，它可以被分解成一系列嵌套的函数，每个函数只接受一个参数。每次调用这些嵌套的函数之一，它们会部分应用之前的参数，并返回一个新的函数，等待传入下一个参数。JavaScript 中的函数可以通过手动编写或使用库（如 Lodash、Ramda）来进行柯里化。</p>
<p>它很灵活，可以避免重复传入参数，当你传入第一个参数的时候，该函数就已经具有了第一个参数的状态（闭包）。</p>
</blockquote>
<p><strong>举例</strong></p>
<p><code>(state) =&gt; (gCode) =&gt; &#123;&#125;</code> 是一个函数的箭头函数表达式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">setState</span> = (<span class="params">state</span>) =&gt; <span class="function">(<span class="params">gCode</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 在这里可以执行具体的操作</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(state);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(gCode);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myState = <span class="string">&#x27;Initial state&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> myGCode = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myFunction = <span class="title function_">setState</span>(myState); <span class="comment">// 调用外部函数，并传入 myState 参数</span></span><br><span class="line"><span class="title function_">myFunction</span>(myGCode); <span class="comment">// 调用内部函数，并传入 myGCode 参数</span></span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// Initial state</span></span><br><span class="line"><span class="comment">// 123</span></span><br></pre></td></tr></table></figure>

<h3 id="Lodash"><a href="#Lodash" class="headerlink" title="Lodash"></a>Lodash</h3><blockquote>
<p>Lodash 的设计目标是提供高性能、模块化和易于使用的实用函数。它封装了许多常见的操作，帮助开发人员减少编写重复代码的工作量，提高开发效率。Lodash 的函数库被广泛应用于前端开发和后端开发，可以在浏览器环境和 Node.js 环境中使用。</p>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://lodash.com/docs/4.17.15">Lodash：官方文档</a></p>
</blockquote>
<ol>
<li>数组操作：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy codeimport &#123; chunk, filter, map &#125; <span class="keyword">from</span> <span class="string">&#x27;lodash&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将数组分割成多个子数组</span></span><br><span class="line"><span class="keyword">const</span> chunkedArray = <span class="title function_">chunk</span>(numbers, <span class="number">3</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(chunkedArray); <span class="comment">// 输出 [[1, 2, 3], [4, 5, 6], [7, 8, 9], [10]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 过滤数组中的偶数</span></span><br><span class="line"><span class="keyword">const</span> filteredArray = <span class="title function_">filter</span>(numbers, <span class="function">(<span class="params">num</span>) =&gt;</span> num % <span class="number">2</span> === <span class="number">0</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(filteredArray); <span class="comment">// 输出 [2, 4, 6, 8, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将数组中的每个元素翻倍</span></span><br><span class="line"><span class="keyword">const</span> doubledArray = <span class="title function_">map</span>(numbers, <span class="function">(<span class="params">num</span>) =&gt;</span> num * <span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(doubledArray); <span class="comment">// 输出 [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]</span></span><br></pre></td></tr></table></figure>

<ol>
<li>对象操作：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy codeimport &#123; pick, omit &#125; <span class="keyword">from</span> <span class="string">&#x27;lodash&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;John&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="attr">email</span>: <span class="string">&#x27;john@example.com&#x27;</span>,</span><br><span class="line">  <span class="attr">address</span>: <span class="string">&#x27;123 Main St&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从对象中选择特定的属性</span></span><br><span class="line"><span class="keyword">const</span> selectedProps = <span class="title function_">pick</span>(user, [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(selectedProps); <span class="comment">// 输出 &#123; name: &#x27;John&#x27;, age: 30 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从对象中排除特定的属性</span></span><br><span class="line"><span class="keyword">const</span> omittedProps = <span class="title function_">omit</span>(user, [<span class="string">&#x27;email&#x27;</span>, <span class="string">&#x27;address&#x27;</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(omittedProps); <span class="comment">// 输出 &#123; name: &#x27;John&#x27;, age: 30 &#125;</span></span><br></pre></td></tr></table></figure>

<ol>
<li>函数式编程：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">javascriptCopy codeimport &#123; curry, flow &#125; <span class="keyword">from</span> <span class="string">&#x27;lodash&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 柯里化函数，将多参数函数转化为接受单个参数的函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params">a, b, c</span>) =&gt; a + b + c;</span><br><span class="line"><span class="keyword">const</span> curriedAdd = <span class="title function_">curry</span>(add);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> increment = <span class="title function_">curriedAdd</span>(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">increment</span>(<span class="number">2</span>)(<span class="number">3</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// 输出 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数组合，依次执行多个函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">square</span> = (<span class="params">x</span>) =&gt; x * x;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">double</span> = (<span class="params">x</span>) =&gt; x * <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> squareAndDouble = <span class="title function_">flow</span>(square, double);</span><br><span class="line"><span class="keyword">const</span> finalResult = <span class="title function_">squareAndDouble</span>(<span class="number">5</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(finalResult); <span class="comment">// 输出 50</span></span><br></pre></td></tr></table></figure>

<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><blockquote>
<p>当 JavaScript 主线程在执行过程中遇到 async 函数或者包含 await 关键字的操作时，主线程会被暂停，等待 await 后面的 Promise 对象解析完成。这种暂停是异步的，意味着主线程会继续执行其他同步任务，直到遇到 await 处的异步操作完成为止。一旦 Promise 被解析完成，主线程会恢复执行 await 后面的代码。这种机制确保了异步操作在执行过程中不会阻塞主线程的运行。</p>
</blockquote>
<p><strong>同步:</strong></p>
<ul>
<li>同步操作意味着任务按顺序执行，每个任务必须等待前一个任务完成后才能开始。</li>
<li>在同步模式下，如果一个任务正在执行，程序将会等待（阻塞）直到任务完成，然后才继续执行下一个任务。</li>
<li>这种方式简单直观，但可能导致程序效率低下，特别是在等待某些耗时操作（如文件读写、网络请求）时。</li>
</ul>
<p><strong>异步:</strong></p>
<ul>
<li>异步操作允许任务在等待另一个任务完成时开始执行，不需要按顺序等待每个任务完成。</li>
<li>在异步模式下，程序可以发起一个任务，然后立即转而执行其他任务，而不是等待第一个任务完成。</li>
<li>异步通常通过回调函数、事件监听、Promise、async&#x2F;await 等机制实现，提高了程序的效率和响应性。</li>
</ul>
<h2 id="传统异步和async-await异步"><a href="#传统异步和async-await异步" class="headerlink" title="传统异步和async&#x2F;await异步"></a>传统异步和async&#x2F;await异步</h2><blockquote>
<p>传统异步会导致两个主要的问题分别是：</p>
<ol>
<li>代码的可读性：通过使用 <code>async/await</code>，代码的结构会更加清晰，易于理解，易于<code>try...catch</code>。传统嵌套在<code>then()</code>的方式复杂可读性差。</li>
<li>一般情况下传统方式只能返回Promise状态，不能返回Promise对象，特殊情况看最后<strong>传统方式返回Promise对象</strong>的代码。</li>
</ol>
<p>参考：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jsgoshu/p/11444404.html">博客园-jsgoshu：深入理解await与async</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7073001554365644808">掘金-噜噜彩：promise的三种状态解析</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/fb1da22f335d">简书-没了提心吊胆的稗子：async&#x2F;await</a></p>
</blockquote>
<h3 id="传统方式异步"><a href="#传统方式异步" class="headerlink" title="传统方式异步"></a>传统方式异步</h3><p>假设我们要实现一个异步操作，首先发起 HTTP 请求，然后再将请求结果传递给另一个异步操作处理，最后返回最终的处理结果。这个过程涉及到异步回调函数的嵌套，一般会使用 Promise 的 then 方法来处理。下面是一个简单的示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">httpRequest</span>()</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> result = <span class="title function_">processResult</span>(response)</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">anotherAsyncOperation</span>(result)</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">finalResult</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> finalResult</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(error)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">httpRequest</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 模拟一个 API 请求</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">random</span>() &gt; <span class="number">0.5</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;API 请求成功&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;API 请求失败&#x27;</span>))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">processResult</span>(<span class="params">response</span>) &#123;</span><br><span class="line">  <span class="comment">// 将请求结果处理成一个对象</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">message</span>: response,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">foo</span>: <span class="string">&#x27;bar&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">anotherAsyncOperation</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 模拟另一个异步操作</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(<span class="string">`另一个异步操作完成，数据：<span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(data)&#125;</span>`</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可见以上情况 Promise 对象有可能会变成 reject 状态，如果不是 Promise 对象，无法利用 Promise 所带来的传播性质来有效地抛出错误。</p>
<h3 id="async-await异步"><a href="#async-await异步" class="headerlink" title="async&#x2F;await异步"></a>async&#x2F;await异步</h3><blockquote>
<ul>
<li>async：当一个函数被标记为 <code>async</code> 时，它就没了提心吊胆的稗子会返回一个 Promise 对象。</li>
<li>await：如果有需要等待异步操作完成的代码，可以使用 <code>await</code> 关键字来等待结果。在等待的过程中，函数的执行会暂停，直到异步操作完成并返回结果后再继续执行。</li>
</ul>
</blockquote>
<p>而如果使用异步函数直接返回 Promise 值的方式，就可以避免传统的异步嵌套问题，代码更加清晰易读。下面是使用异步函数的示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">httpRequest</span>()</span><br><span class="line">    <span class="keyword">const</span> result = <span class="title function_">processResult</span>(response)</span><br><span class="line">    <span class="keyword">const</span> finalResult = <span class="keyword">await</span> <span class="title function_">anotherAsyncOperation</span>(result)</span><br><span class="line">    <span class="keyword">return</span> finalResult</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(error)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">httpRequest</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 模拟一个 API 请求</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">random</span>() &gt; <span class="number">0.5</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;API 请求成功&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;API 请求失败&#x27;</span>))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">processResult</span>(<span class="params">response</span>) &#123;</span><br><span class="line">  <span class="comment">// 将请求结果处理成一个对象</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">message</span>: response,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">foo</span>: <span class="string">&#x27;bar&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">anotherAsyncOperation</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 模拟另一个异步操作</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(<span class="string">`另一个异步操作完成，数据：<span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(data)&#125;</span>`</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意此段代码对比传统方式出现了<code>try...catch</code>。</p>
<h3 id="传统方式返回Promise对象"><a href="#传统方式返回Promise对象" class="headerlink" title="传统方式返回Promise对象"></a>传统方式返回Promise对象</h3><p>在很多 Node.js 应用中，仍然会使用这种传统的异步嵌套方式，并且会将异步操作封装成 Promise 对象，以便能够在 Promise 上继续使用 Promise 相关的 API，如 Promise chaining、try-catch 错误处理等。</p>
<p>下面是一个例子，展示了如何使用 Promise 封装一个传统异步嵌套的异步操作：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">traditionalAsyncOperation</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">callback</span>(<span class="literal">null</span>, <span class="string">&#x27;异步操作完成&#x27;</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">promisify</span>(<span class="params">traditionalAsyncOperation</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">traditionalAsyncOperation</span>(...args, <span class="function">(<span class="params">err, result</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="title function_">reject</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">resolve</span>(result)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> promisifiedOperation = <span class="title function_">promisify</span>(traditionalAsyncOperation)</span><br><span class="line"><span class="title function_">promisifiedOperation</span>().<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// &#x27;异步操作完成&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>好难啊。。。</p>
<h2 id="JS类-自执行函数"><a href="#JS类-自执行函数" class="headerlink" title="JS类&amp;自执行函数"></a>JS类&amp;自执行函数</h2><p>先看一段TS编译后的JS代码：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="attr">fullName</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> firstName, <span class="keyword">public</span> middleInitial, <span class="keyword">public</span> lastName</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">fullName</span> = firstName + <span class="string">&quot; &quot;</span> + middleInitial + <span class="string">&quot; &quot;</span> + lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">lastName</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">person : Person</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + person.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + person.<span class="property">lastName</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;Jane&quot;</span>, <span class="string">&quot;M.&quot;</span>, <span class="string">&quot;User&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="title function_">greeter</span>(user);</span><br></pre></td></tr></table></figure>

<p>编译后js：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Student</span> = <span class="comment">/** <span class="doctag">@class</span> */</span> (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">firstName, middleInitial, lastName</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">firstName</span> = firstName;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">middleInitial</span> = middleInitial;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">lastName</span> = lastName;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">fullName</span> = firstName + <span class="string">&quot; &quot;</span> + middleInitial + <span class="string">&quot; &quot;</span> + lastName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Student</span>;</span><br><span class="line">&#125;());</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greeter</span>(<span class="params">person</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello, &quot;</span> + person.<span class="property">firstName</span> + <span class="string">&quot; &quot;</span> + person.<span class="property">lastName</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> user = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;Jane&quot;</span>, <span class="string">&quot;M.&quot;</span>, <span class="string">&quot;User&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="title function_">greeter</span>(user);</span><br></pre></td></tr></table></figure>

<p>其中<code>this.</code>的意思是，哪行代码<code>new</code>了<code>Student</code>，此行代码<code>new</code>的这个对象中就会被赋值成员变量firstName、middleInitial、lastName、fullName。</p>
<p>引入<code>.html</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>TypeScript Greeter<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;test.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>执行结果是<code>Hello, Jane User</code>。</p>
<h3 id="立即调用函数表达式"><a href="#立即调用函数表达式" class="headerlink" title="立即调用函数表达式"></a>立即调用函数表达式</h3><blockquote>
<p>立即调用函数表达式（Immediately Invoked Function Expression，IIFE）</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Student</span> = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">/** 立即执行的代码块 */</span></span><br><span class="line">    &#125;());</span><br></pre></td></tr></table></figure>

<p>在这个 IIFE 内部，我们定义了一个名为 <code>Student</code> 的类作为返回值。这个类定义完成后立即返回，返回的值将会被赋给 <code>var Student</code> 变量。这种方式可以让我们在不污染全局作用域的情况下使用这个 <code>Student</code> 类。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://ding-f.github.io">铸鼎</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://ding-f.github.io/2023/04/27/javascript">https://ding-f.github.io/2023/04/27/javascript</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://ding-f.github.io" target="_blank">铸鼎-BuildDing</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%9F%BA%E7%A1%80/">基础</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a></div><div class="post_share"><div class="social-share" data-image="/images/2023-04-27-JavaScript/R-C.3833d4b070ca7c198ebc5a2ba765a32erik=z7tex%252bOSycssNQ&amp;riu=http%253a%252f%252fwww.techsors.com%252fwp-content%252fuploads%252f2016%252f02%252fJavascript.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/images/reward/alipay.png" target="_blank"><img class="post-qr-code-img" src="/images/reward/alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li><li class="reward-item"><a href="/images/reward/alipay_red.png" target="_blank"><img class="post-qr-code-img" src="/images/reward/alipay_red.png" alt="🧧"/></a><div class="post-qr-code-desc">🧧</div></li><li class="reward-item"><a href="/images/reward/wechat.png" target="_blank"><img class="post-qr-code-img" src="/images/reward/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/05/05/typescript" title="TypeScript"><img class="cover" src="/images/2023-05-05-TypeScript/R-C.0985ec3bbc58712c69c384d75d089db8rik=aygODZtZRK4%252fsA&amp;riu=http%253a%252f%252fmspoweruser.com%252fwp-content%252fuploads%252f2016%252f07%252ftypescript-cover-image.jpeg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">TypeScript</div></div></a></div><div class="next-post pull-right"><a href="/2023/02/16/uni-app" title="uni-app"><img class="cover" src="/images/2023-02-16-uni-app/d490d7b4576290f-7-600x338.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">uni-app</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/04/17/http-xie-yi" title="Http协议"><img class="cover" src="/images/2022-04-17-Http%E5%8D%8F%E8%AE%AE/R-C.6efdc6258152726375358dc6f5119e91?rik=LbcO4y5j3zGfKA&riu=http%253a%252f%252fimage1.slideserve.com%252f1619534%252fhypertext-transfer-protocol-n-20220607174529087.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-17</div><div class="title">Http协议</div></div></a></div><div><a href="/2022/07/19/node-js" title="NodeJS&amp;前端工程化"><img class="cover" src="/images/2022-07-19-node-js/nodeJS-training-360edukraft.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-19</div><div class="title">NodeJS&amp;前端工程化</div></div></a></div><div><a href="/2023/05/05/typescript" title="TypeScript"><img class="cover" src="/images/2023-05-05-TypeScript/R-C.0985ec3bbc58712c69c384d75d089db8rik=aygODZtZRK4%252fsA&riu=http%253a%252f%252fmspoweruser.com%252fwp-content%252fuploads%252f2016%252f07%252ftypescript-cover-image.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-05</div><div class="title">TypeScript</div></div></a></div><div><a href="/2021/04/15/java" title="Java基础"><img class="cover" src="/images/java/java.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-15</div><div class="title">Java基础</div></div></a></div><div><a href="/2021/06/27/jetbrains-quan-jia-tong" title="JetBrains全家桶"><img class="cover" src="/images/idea_intllij/idea_intellij.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-27</div><div class="title">JetBrains全家桶</div></div></a></div><div><a href="/2021/04/19/python3" title="Python3"><img class="cover" src="/images/Python3/python.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-19</div><div class="title">Python3</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/logo.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">铸鼎</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/ding-f"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://qm.qq.com/cgi-bin/qm/qr?k=OK8IvfGeK0mn9ocBK1YcJKdY2No_KXoR" target="_blank" title="QQ"><i class="fa-brands fa-qq" style="color: #74C0FC;"></i></a><a class="social-icon" href="mailto:g00gleding@gmail.com" target="_blank" title="Email"><i class="fa-regular fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E8%AF%86"><span class="toc-number">1.</span> <span class="toc-text">初识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E6%93%8E"><span class="toc-number">1.1.</span> <span class="toc-text">引擎</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ECMAScript"><span class="toc-number">1.2.</span> <span class="toc-text">ECMAScript</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">2.</span> <span class="toc-text">基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.1.</span> <span class="toc-text">基本数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.2.</span> <span class="toc-text">引用数据类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#var%E3%80%81let%E3%80%81const"><span class="toc-number">2.2.</span> <span class="toc-text">var、let、const</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">开发常用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JS%E6%95%B0%E7%BB%84%E5%90%88%E5%B9%B6"><span class="toc-number">3.1.</span> <span class="toc-text">JS数组合并</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8-Javascript-%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BD%9C%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">${}在 Javascript 的字符串作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8F%92%E5%80%BC"><span class="toc-number">3.3.</span> <span class="toc-text">字符串插值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#find-%E4%BF%AE%E6%94%B9%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-number">3.4.</span> <span class="toc-text">find()修改对象属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#some"><span class="toc-number">3.5.</span> <span class="toc-text">some()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0"><span class="toc-number">3.6.</span> <span class="toc-text">数组添加元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E6%95%B0%E7%BB%84%E7%A9%BA%E5%85%83%E7%B4%A0"><span class="toc-number">3.7.</span> <span class="toc-text">过滤数组空元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%AF%E9%87%8C%E5%8C%96"><span class="toc-number">3.8.</span> <span class="toc-text">柯里化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lodash"><span class="toc-number">3.9.</span> <span class="toc-text">Lodash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise"><span class="toc-number">3.10.</span> <span class="toc-text">Promise</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E7%BB%9F%E5%BC%82%E6%AD%A5%E5%92%8Casync-await%E5%BC%82%E6%AD%A5"><span class="toc-number">4.</span> <span class="toc-text">传统异步和async&#x2F;await异步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E7%BB%9F%E6%96%B9%E5%BC%8F%E5%BC%82%E6%AD%A5"><span class="toc-number">4.1.</span> <span class="toc-text">传统方式异步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#async-await%E5%BC%82%E6%AD%A5"><span class="toc-number">4.2.</span> <span class="toc-text">async&#x2F;await异步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E7%BB%9F%E6%96%B9%E5%BC%8F%E8%BF%94%E5%9B%9EPromise%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.3.</span> <span class="toc-text">传统方式返回Promise对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JS%E7%B1%BB-%E8%87%AA%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="toc-number">5.</span> <span class="toc-text">JS类&amp;自执行函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%8B%E5%8D%B3%E8%B0%83%E7%94%A8%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">5.1.</span> <span class="toc-text">立即调用函数表达式</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/11/26/qian-ru-shi-tong-xun-xie-yi" title="嵌入式通讯协议"><img src="/images/error.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="嵌入式通讯协议"/></a><div class="content"><a class="title" href="/2024/11/26/qian-ru-shi-tong-xun-xie-yi" title="嵌入式通讯协议">嵌入式通讯协议</a><time datetime="2024-11-25T18:37:22.000Z" title="发表于 2024-11-26 02:37:22">2024-11-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/16/lvm" title="LVM"><img src="/images/error.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LVM"/></a><div class="content"><a class="title" href="/2024/07/16/lvm" title="LVM">LVM</a><time datetime="2024-07-16T00:12:29.000Z" title="发表于 2024-07-16 08:12:29">2024-07-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/09/linux-wang-luo-lu-you" title="Linux网络路由"><img src="/images/error.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux网络路由"/></a><div class="content"><a class="title" href="/2024/07/09/linux-wang-luo-lu-you" title="Linux网络路由">Linux网络路由</a><time datetime="2024-07-08T20:39:26.000Z" title="发表于 2024-07-09 04:39:26">2024-07-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/14/kua-yu-qing-qiu" title="跨域请求"><img src="/images/2024-06-14-%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82/1bb5dbbcf24047c59aa8f300ce6baec8.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="跨域请求"/></a><div class="content"><a class="title" href="/2024/06/14/kua-yu-qing-qiu" title="跨域请求">跨域请求</a><time datetime="2024-06-13T20:37:03.000Z" title="发表于 2024-06-14 04:37:03">2024-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/09/dian-zi-yuan-jian" title="电子元件"><img src="/images/2024-06-09-%E7%94%B5%E5%AD%90%E5%85%83%E4%BB%B6/d5a3f9ec8d634cb658645b38f9d74d.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="电子元件"/></a><div class="content"><a class="title" href="/2024/06/09/dian-zi-yuan-jian" title="电子元件">电子元件</a><time datetime="2024-06-08T20:23:34.000Z" title="发表于 2024-06-09 04:23:34">2024-06-09</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By 铸鼎</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'ziXj4IBdz8gJoTTwpwRz1j1d-gzGzoHsz',
      appKey: 'cdWGyVSvxCcDKnMhlRaSvAJo',
      avatar: 'monsterid',
      serverURLs: 'https://zixj4ibd.lc-cn-n1-shared.com',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: true
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.jsdelivr.net/npm/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !false) {
    if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script></div><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>